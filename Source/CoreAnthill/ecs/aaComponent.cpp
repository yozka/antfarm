#include "aaComponent.h"
#include "aaActor.h"
#include "aaContainer.h"


///-------------------------------------------------------------------------
using namespace ecs;
///-------------------------------------------------------------------------





 ///------------------------------------------------------------------------
///
///
///
/// Constructor
///
///
///-------------------------------------------------------------------------
AComponent::AComponent()
{



}
///-------------------------------------------------------------------------





 ///------------------------------------------------------------------------
///
///
///
/// Destructor
///
///
///-------------------------------------------------------------------------
AComponent::~AComponent()
{


}
///-------------------------------------------------------------------------






 ///------------------------------------------------------------------------
///
///
///
/// 
///
///
///-------------------------------------------------------------------------
void AComponent :: setActor(std::weak_ptr<AActor> parent)
{
    mParent = parent;
}
///-------------------------------------------------------------------------






 ///------------------------------------------------------------------------
///
///
/// внимание вы не должны ударживать родителя, 
/// и наче он не сожмет удалится корректно
///
///
///-------------------------------------------------------------------------
std::shared_ptr<AActor> AComponent ::getActor() const 
{
    return mParent.lock();
}
///-------------------------------------------------------------------------




 ///------------------------------------------------------------------------
///
///
/// 
/// возвратим текущий контейнер
///
///-------------------------------------------------------------------------
AContainer* AComponent:: getContainer() const
{
    if (auto actor = mParent.lock())
    {
        return actor->getContainer();
    }
    return nullptr;
}
///-------------------------------------------------------------------------


