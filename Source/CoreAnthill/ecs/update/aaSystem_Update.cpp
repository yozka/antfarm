#include "aaSystem_Update.h"


using namespace ecs;
///-------------------------------------------------------------------------





 ///------------------------------------------------------------------------
///
///
///
/// Constructor
///
///
///-------------------------------------------------------------------------
ASystemUpdate::ASystemUpdate(const float timeSlow)
    :
    mTimeSlow(timeSlow)
{

}
///-------------------------------------------------------------------------





 ///------------------------------------------------------------------------
///
///
///
/// Destructor
///
///
///-------------------------------------------------------------------------
ASystemUpdate::~ASystemUpdate()
{


}
///-------------------------------------------------------------------------











 ///------------------------------------------------------------------------
///
///
///
/// ќбновление логики
///
///
///-------------------------------------------------------------------------
void ASystemUpdate::update(const float timeSpan)
{
    updatingSystem();


    // мделенное обновление
    // ссзадержкой
    mTime += timeSpan;
    bool slow = (mTime > mTimeSlow) ? true : false;


    for (const auto &obj : components)
    {
        obj->update(timeSpan);
        if (slow)
        {
            obj->updateSlow(mTime);
        }
    }


    if (slow)
    {
        mTime -= mTimeSlow;
    }
}
///-------------------------------------------------------------------------

