#include "aaWorld.h"

using namespace Anthill;
///-------------------------------------------------------------------------





 ///------------------------------------------------------------------------
///
///
///
/// Constructor
///
///
///-------------------------------------------------------------------------
AWorld :: AWorld(const TPoint &size)
	:
	size			(size),
	mGround			(size),
	mTemperature	(size),
	mWater			(size),


	ground			(mGround),
	temperature		(mTemperature),
	water			(mWater)
{

	


}
///-------------------------------------------------------------------------





 ///------------------------------------------------------------------------
///
///
///
/// Destructor
///
///
///-------------------------------------------------------------------------
AWorld :: ~AWorld()
{

}
///-------------------------------------------------------------------------




 ///------------------------------------------------------------------------
///
///
///
/// Обновление логики
///
///
///-------------------------------------------------------------------------
void AWorld :: update(const float timeSpan)
{
	for (const auto &actor : mActors)
	{
		actor->update(timeSpan);
	}
}
///-------------------------------------------------------------------------






 ///------------------------------------------------------------------------
///
///
///
/// добавление актора
///
///
///-------------------------------------------------------------------------
void AWorld :: append(const PActor &actor)
{
	actor->setWorld(weak_from_this());
	mActors.push_back(actor);
}
///-------------------------------------------------------------------------






 ///------------------------------------------------------------------------
///
///
///
/// удаление актора
///
///
///-------------------------------------------------------------------------
void AWorld :: remove(const PActor &actor)
{
	actor->setWorld(PWorld());
	const auto item = std::find(mActors.cbegin(), mActors.cend(), actor);
	if (item != mActors.cend())
	{
		mActors.erase(item);
	}
}
///-------------------------------------------------------------------------




