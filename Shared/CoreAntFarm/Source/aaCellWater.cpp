#include "aaCellWater.h"
#include "aaAlgo.h"
///-------------------------------------------------------------------------




///-------------------------------------------------------------------------
using namespace Formicarium;
///-------------------------------------------------------------------------





 ///------------------------------------------------------------------------
///
///
///
/// Constructor
///
///
///-------------------------------------------------------------------------
ACellWater::ACellWater()
{





}
///-------------------------------------------------------------------------





 ///------------------------------------------------------------------------
///
///
///
/// Destructor
///
///
///-------------------------------------------------------------------------
ACellWater::~ACellWater()
{


}
///-------------------------------------------------------------------------





 ///------------------------------------------------------------------------
///
///
///
/// установка воды
///
///
///-------------------------------------------------------------------------
void ACellWater :: makeWater()
{
    mWater = true;
    mWaterFluid = 1.0f;
}
///-------------------------------------------------------------------------








 ///------------------------------------------------------------------------
///
///
///
/// 
///
///
///-------------------------------------------------------------------------
void ACellWater :: takeWater()
{
    mWater = false;
    mWaterFluid = 1.0f;
}
///-------------------------------------------------------------------------










 ///------------------------------------------------------------------------
///
///
///
/// проверка вода есть или нет
///
///
///-------------------------------------------------------------------------
bool ACellWater :: isWater() const
{
    return mWater;
}
///-------------------------------------------------------------------------





 ///------------------------------------------------------------------------
///
///
///
/// проверка вода есть, и она уже закончила движение
///
///
///-------------------------------------------------------------------------
bool ACellWater::isWaterFluid() const
{
    return mWater && mWaterFluid < 0.0f;
}
///-------------------------------------------------------------------------






 ///------------------------------------------------------------------------
///
///
///
/// процесс перетекание воды, если вода перетекла то возвращаем true
///
///
///-------------------------------------------------------------------------
bool ACellWater :: waterFluid(const float volume)
{
    if (!mWater)
    {
        return false;
    }

    if (mWaterFluid >= 0.0f)
    {
        mWaterFluid -= volume;
        return false;
    }
    return true;
}
